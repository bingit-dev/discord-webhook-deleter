<!DOCTYPE html>
<html>
<head>
	<title>Delete Discord Webhook</title>
	<link href="/dist/output.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
	<div class="container mx-auto py-8">
		<h1 class="text-3xl font-bold mb-4">Delete Discord Webhook</h1>
		<div class="flex items-center mb-4">
			<label class="w-1/4 font-bold" for="webhook-link">Discord Webhook Link:</label>
			<input class="border-gray-400 border-2 rounded-lg p-2 w-3/4" type="text" id="webhook-link" name="webhook-link" placeholder="Enter webhook link here">
		</div>
		<button id="delete-btn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" onclick="deleteWebhook()">Delete</button>
	</div>

	<footer class="bg-gray-200 text-center py-4">
		<p>Made with <span class="text-red-500">&hearts;</span> by <a href="https://discord.gg/eFukymdJ/" class="text-gray-600 hover:text-red-500">Tom</a></p>
	</footer>

	<script>
		function deleteWebhook() {
			// Get the webhook link from the textbox
			var webhookLink = document.getElementById("webhook-link").value;

			// Create a new XMLHttpRequest object
			var xhr = new XMLHttpRequest();

			// Open a DELETE request to the webhook link
			xhr.open("DELETE", webhookLink, true);

			// Set the request header for the Content-Type
			xhr.setRequestHeader("Content-Type", "application/json");

			// Send the request
			xhr.send();

			// Check the status of the response
			xhr.onreadystatechange = function() {
				if (xhr.readyState === 4) {
					if (xhr.status === 200) {
						// Display a success message
						alert("Webhook deleted successfully!");
					} else if (xhr.status === 405) {
						// Display an error message
						alert("Webhook could not be deleted, please email tom@suroto.uk for help.");
					}
				}
			};
		}
	</script>
</body>
</html>
